<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Enhanced C#: Loyc.Collections.ICharSource Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Enhanced C#
   </div>
   <div id="projectbrief">Language of your choice: library documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<h1>Documentation moved to <a href="http://ecsharp.net/doc/code">ecsharp.net</a></h1>
<small>GitHub doesn't support HTTP redirects, so you'll be redirected in 3 seconds.</small>
<br/><br/>
<script>
setTimeout(function() {
	if (window.location.href.indexOf('http://loyc.net') == 0) {
	  window.location.href = 'http://ecsharp.net' + window.location.href.substr('http://loyc.net'.length);
	}
}, 3000);
</script>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLoyc.html">Loyc</a></li><li class="navelem"><a class="el" href="namespaceLoyc_1_1Collections.html">Collections</a></li><li class="navelem"><a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html">ICharSource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="interfaceLoyc_1_1Collections_1_1ICharSource-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Loyc.Collections.ICharSource Interface Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A read-only list of characters plus a <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a6015c7a99af81fe0de9fcc67e43a2768" title="Returns a substring from the character source. If some of the requested characters are past the end o...">Slice(int,int)</a> method. 
 <a href="interfaceLoyc_1_1Collections_1_1ICharSource.html#details">More...</a></p>
<hr/><b>Source file</b>:<ul>
<li><a href='https://github.com/qwertie/ecsharp/tree/master/Core/Loyc.Essentials/Collections/Interfaces/ICharSource.cs'>/Core/Loyc.Essentials/Collections/Interfaces/ICharSource.cs</a></li>
</ul>
<div class="dynheader">
Inheritance diagram for Loyc.Collections.ICharSource:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interfaceLoyc_1_1Collections_1_1ICharSource.png" usemap="#Loyc.Collections.ICharSource_map" alt=""/>
  <map id="Loyc.Collections.ICharSource_map" name="Loyc.Collections.ICharSource_map">
<area href="interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4.html" title="A read-only list indexed by an integer." alt="Loyc.Collections.IListSource&lt; out T &gt;" shape="rect" coords="236,56,462,80"/>
<area href="structLoyc_1_1Collections_1_1StringSlice.html" title="A random-access slice of System.String." alt="Loyc.Collections.StringSlice" shape="rect" coords="0,168,226,192"/>
<area href="classLoyc_1_1Syntax_1_1StreamCharSource.html" title="Exposes a stream as an ICharSource, as though it were an array of characters. The stream must support..." alt="Loyc.Syntax.StreamCharSource" shape="rect" coords="236,168,462,192"/>
<area href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange{T} of 21-bit UC..." alt="Loyc.UString" shape="rect" coords="472,168,698,192"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Remarks</h2>
<div class="textblock"><p>A read-only list of characters plus a <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a6015c7a99af81fe0de9fcc67e43a2768" title="Returns a substring from the character source. If some of the requested characters are past the end o...">Slice(int,int)</a> method.</p>
<p>To get an instance of this interface from a string, write <code>new <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html" title="A random-access slice of System.String.">StringSlice</a>("string")</code> or <code>(<a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange{T} of 21-bit UC...">UString</a>)"string"</code>. </p>
<p>This is the standard interface for lexers to use as a source of characters; is it defined in Loyc.Essentials rather than <a class="el" href="namespaceLoyc_1_1Syntax.html" title="Loyc.Syntax.dll: contains Loyc trees (Loyc.Syntax.LNode), lexing stuff, LLLPG base classes (BaseParse...">Loyc.Syntax</a> so that <a class="el" href="structLoyc_1_1UString.html" title="UString is a slice of a string. It is a wrapper around string that provides a IBRange{T} of 21-bit UC...">UString</a> and <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html" title="A random-access slice of System.String.">StringSlice</a> can implement it. </p>
<p>This interface was created to read characters more efficiently. Although a lexer could read characters one-at-a-time from IReadOnlyList{char} or IListSource{char}, it requires dynamic interface dispatch for every character. On the other hand, if lexers avoid this overhead by requiring the entire file in the form of a string, it becomes necessary to hold the entire file in memory at once, in a very specific format (a string). </p>
<p><a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a6015c7a99af81fe0de9fcc67e43a2768" title="Returns a substring from the character source. If some of the requested characters are past the end o...">Slice()</a> allows the lexer to request small pieces of the file that it can read without dynamic dispatch. Typically a lexer will be derived from <a class="el" href="classLoyc_1_1Syntax_1_1Lexing_1_1BaseLexer.html" title="Alias for BaseLexer{C} where C is ICharSource.">Loyc.Syntax.Lexing.BaseLexer</a>, which requests rather small chunks; the <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method.">ICharSource</a> implementation is is free to read larger blocks at once, since the return type, <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html" title="A random-access slice of System.String.">StringSlice</a>, can be a slice of a larger string. </p>
<p>This interface provides good efficiency when reading from strings, or from data structures composed of large strings (most notably, this interface could efficiently return sections of a gap buffer), but unlike String itself, it is flexible, and does not require the entire file to be held in memory as a single contiguous block. </p>
<p>It's unfortunate that .NET treats strings as something completely different than arrays. Otherwise, this interface could support not just substrings, but subarrays of any element type, which would be useful any time you want to optimize your code by reducing dynamic dispatch. </p>
<p>Note about Count: if <a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html" title="A read-only list of characters plus a Slice(int,int) method.">ICharSource</a> represents to a file or other Stream, reading Count forces the entire stream to be scanned in order to determine the number of characters in the file (which may be different from the number of bytes). Rather than do a test like <code>if (index &gt;= charSource.Count)</code> it is better to use <code>if (Slice(index, 1).Count == 0)</code>, or better yet, <code>TryGet(index, out fail)</code>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6015c7a99af81fe0de9fcc67e43a2768"><td class="memItemLeft" align="right" valign="top">new <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html">StringSlice</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1ICharSource.html#a6015c7a99af81fe0de9fcc67e43a2768">Slice</a> (int startIndex, int length)</td></tr>
<tr class="memdesc:a6015c7a99af81fe0de9fcc67e43a2768"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a substring from the character source. If some of the requested characters are past the end of the stream, the string is truncated to the available number of characters.  <a href="#a6015c7a99af81fe0de9fcc67e43a2768">More...</a><br /></td></tr>
<tr class="separator:a6015c7a99af81fe0de9fcc67e43a2768"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4.html">Loyc.Collections.IListSource&lt; out T &gt;</a></td></tr>
<tr class="memitem:a8e7cf6ebac5f60e3eefbd1a75bcad672 inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4.html#a8e7cf6ebac5f60e3eefbd1a75bcad672">TryGet</a> (int index, out bool fail)</td></tr>
<tr class="memdesc:a8e7cf6ebac5f60e3eefbd1a75bcad672 inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the item at the specified index, and does not throw an exception on failure. <a href="#a8e7cf6ebac5f60e3eefbd1a75bcad672">More...</a><br /></td></tr>
<tr class="separator:a8e7cf6ebac5f60e3eefbd1a75bcad672 inherit pub_methods_interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6015c7a99af81fe0de9fcc67e43a2768"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">new <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html">StringSlice</a> Loyc.Collections.ICharSource.Slice </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a substring from the character source. If some of the requested characters are past the end of the stream, the string is truncated to the available number of characters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startIndex</td><td>Index of first character to return. If startIndex &gt;= Count, an empty string is returned.</td></tr>
    <tr><td class="paramname">length</td><td>Number of characters desired.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">ArgumentException</td><td>Thrown if startIndex or length are negative.</td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="interfaceLoyc_1_1Collections_1_1IListSource_3_01out_01T_01_4.html#a49a212d9cf49315abb46c5c276521351">Loyc.Collections.IListSource&lt; out T &gt;</a>.</p>

<p>Implemented in <a class="el" href="structLoyc_1_1UString.html#ad5ec80e26adcb41b7688ee5bc45e4288">Loyc.UString</a>, <a class="el" href="structLoyc_1_1UString.html#ac04687a61c925bc61476fb6c63f221f8">Loyc.UString</a>, <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html#ad70fbaf1388e889796be4bd575230755">Loyc.Collections.StringSlice</a>, <a class="el" href="structLoyc_1_1Collections_1_1StringSlice.html#a87c853794420125de1527263eaac5770">Loyc.Collections.StringSlice</a>, and <a class="el" href="classLoyc_1_1Syntax_1_1StreamCharSource.html#a67c92612e281b8dcd5927b8186205457">Loyc.Syntax.StreamCharSource</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Mar 24 2016 09:22:17 for Enhanced C# by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
